#summary Describes the environment and steps to build TextBE.

= Introduction =

TextBE is an Eclipse feature that consists of a set of plugins that are partly generated by model-driven tools and partly hand-written. This page describes the steps necessary to build TextBE 'by hand' using the Eclipse IDE.

This page is set up as a beginners guide, but its ultimate aim is to provide the information necessary to use [http://wiki.eclipse.org/PDE/Build PDE Build] to generate the set using [http://jenkins-ci.org/ Jenkins] [http://en.wikipedia.org/wiki/Continuous_integration Continuous integration].

= Building =
This section describes how TextBE is built. It starts with an informal description of the process, then refines the items description of items that are produced with formal descriptions in the Concepts and Technology section.

== Build Steps of TextBE ==

The TextBE build is not a plain Java compilation. Instead, it involves different generators


|| *Step* || *Activity* || *PDE Component* || *Hook* || *Additional Builder Plugin* ||
|| 1 || Make a new (empty) workspace in Eclipse ||  customTargets.xml || Pre-Fetch source || - ||  
|| 2 || Download the latest code from the svn respository || global build.properties || [http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/reference/pde_builder_config.htm#fetchControl Fetch Control] || [http://wiki.eclipse.org/Subversive_PDE_Fetch Subversive PDE fetch] ||
|| 3 || Generate Text Resource for EMFText Concrete Syntaxes and Antlr plugin || customTargets.xml || Post Fetch source || [http://www.emftext.org/EMFTextGuide.php#x1-120002.3.2 EMFText Ant Task] ||
|| 4 ||  Generate Java Code for Ecore Model org.be.textbe.gv.model/metamodel/gv.genmodel || plugin build.properties>customBuildCallbacks=customBuildCallbacks.xml || customBuildCallbacks.xml->pre.build.jars || [http://wiki.eclipse.org/EMF/FAQ#How_can_I_use_the_EMF_Ant_tasks.3F EMF ant tasks] ||
|| 5 || Update plugin versions || qualifier = context || [http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/tasks/pde_version_qualifiers.htm Version Qualifier Context with Fetch]|| - ||
|| 6 || Copy the graphviz feature to the target to be included ||  global build.properties->runPackager || runPackager=defined || [http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/tasks/pde_packager.htm packaging Tool] ||
|| 7 || Update feature org.textbe-feature || global build.properties || none - implicit, as we are building this feature || - ||
|| 8 || upload feature to update site || customTargets.xml || postBuild || [http://www.eclipse.org/articles/Article-PDE-Automation/automation.html Use this technique to copy the resulting repository ] ||

*Note:* We aim to build a repository for upload, so we will use {{{p2.gathering = true}}} and {{{skipMirroring=defined}}} in the global build.properties as described in [http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/tasks/pde_p2_builds.htm P2 Builds]

|| *Concrete Syntaxes* ||
||org.be.textbe.bt.model/metamodel/textbt.cs||
||org.be.textbe.ct.model/metamodel/textct.cs||
||org.be.textbe.st.model/metamodel/textst.cs||

== Concepts and Terminology ==



=== Target ===

[http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/concepts/target.htm Eclipse Help Definition of Target]

=== Builder ===

[http://help.eclipse.org/indigo/nav/4_3_1 Builder Configuration]

=== Artefacts ===

[http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/tasks/pde_version_qualifiers.htm Versions]

==== Feature ====

[http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/concepts/feature.htm Eclipse Help Definition of Feature]

==== Plugin ====

[http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/concepts/plugin.htm Eclipse Help Definition of Plugin]

==== Fragment ====

[http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/concepts/fragment.htm Eclipse Help Definition of Fragment]

 
== Automating the Build ==

=== Alternatives ===

=== Introduction to PDE Build ===
[http://www.vogella.de/articles/EclipsePDEBuild/article.html PDE Build introductory article] 

[http://www.eclipse.org/articles/Article-PDE-Automation/automation.html PDE Build extended article]

[http://help.eclipse.org/indigo/nav/4_2 Eclipse PDE Build Core Documentation]

[http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/tasks/pde_custom_callbacks.htm PDE Build custom Callbacks]

=== PDE Locations ===



=== Assembling the Builder (Bootstrap) ===

[http://help.eclipse.org/indigo/topic/org.eclipse.platform.doc.isv/guide/p2_director.html  Installing software using the p2 director application]

[http://dev.eclipse.org/viewcvs/viewvc.cgi/org.eclipse.dash/athena/org.eclipse.dash.commonbuilder/org.eclipse.myproject.releng/?root=Technology_Project Use a base releng project and bootstrap]

 # Get the [http://wiki.eclipse.org/Platform-releng-basebuilder#Current_build_tag_for_3.7_stream_builds_.28Indigo.29 Basebuilder for Indigo] from its
[http://dev.eclipse.org/viewcvs/viewvc.cgi/org.eclipse.releng.basebuilder/ CVS location]
 # Install into the basebuilder
  # PDE
  # EMF
  # EMFText
  # PDE Subversive Fetch 

=== Assembling the Target ===

[http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/tasks/pde_fetch_phase.htm PDE fetch]

[http://wiki.eclipse.org/Subversive_PDE_Fetch Subversive PDE fetch]

*Note:* The subversive provider is brittle and different from the subclipse provider installed for interactive use!!

=== Repacking into the Target ===