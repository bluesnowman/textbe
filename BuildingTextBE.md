# Introduction #

TextBE is an Eclipse feature that consists of a set of plugins that are partly generated by model-driven tools and partly hand-written. This page describes the steps necessary to build TextBE 'by hand' using the Eclipse IDE.

This page is set up as a beginners guide, but its ultimate aim is to provide the information necessary to use [PDE Build](http://wiki.eclipse.org/PDE/Build) to generate the set using [Jenkins](http://jenkins-ci.org/) [Continuous integration](http://en.wikipedia.org/wiki/Continuous_integration).

# Building #
This section describes how TextBE is built. It starts with an informal description of the process, then refines the items description of items that are produced with formal descriptions in the Concepts and Technology section.

## Build Steps of TextBE ##

The TextBE build is not a plain Java compilation. Instead, it involves different generators


| **Step** | **Activity** | **PDE Component** | **Hook** | **Additional Builder Plugin** |
|:---------|:-------------|:------------------|:---------|:------------------------------|
| 1        | Make a new (empty) workspace in Eclipse |  customTargets.xml | Pre-Fetch source | -                             |
| 2        | Download the latest code from the svn respository | global build.properties | [Fetch Control](http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/reference/pde_builder_config.htm#fetchControl) | [Subversive PDE fetch](http://wiki.eclipse.org/Subversive_PDE_Fetch) |
| 3        | Generate Text Resource for EMFText Concrete Syntaxes and Antlr plugin | customTargets.xml | Post Fetch source | [EMFText Ant Task](http://www.emftext.org/EMFTextGuide.php#x1-120002.3.2) |
| 4        |  Generate Java Code for Ecore Model org.be.textbe.gv.model/metamodel/gv.genmodel | plugin build.properties>customBuildCallbacks=customBuildCallbacks.xml | customBuildCallbacks.xml->pre.build.jars | [EMF ant tasks](http://wiki.eclipse.org/EMF/FAQ#How_can_I_use_the_EMF_Ant_tasks.3F) |
| 5        | Update plugin versions | qualifier = context | [Version Qualifier Context with Fetch](http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/tasks/pde_version_qualifiers.htm)| -                             |
| 6        | Copy the graphviz feature to the target to be included |  global build.properties->runPackager | runPackager=defined | [packaging Tool](http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/tasks/pde_packager.htm) |
| 7        | Update feature org.textbe-feature | global build.properties | none - implicit, as we are building this feature | -                             |
| 8        | upload feature to update site | customTargets.xml | postBuild | [Use this technique to copy the resulting repository ](http://www.eclipse.org/articles/Article-PDE-Automation/automation.html) |

**Note:** We aim to build a repository for upload, so we will use `p2.gathering = true` and `skipMirroring=defined` in the global build.properties as described in [P2 Builds](http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/tasks/pde_p2_builds.htm)

| **Concrete Syntaxes** |
|:----------------------|
|org.be.textbe.bt.model/metamodel/textbt.cs|
|org.be.textbe.ct.model/metamodel/textct.cs|
|org.be.textbe.st.model/metamodel/textst.cs|

## Concepts and Terminology ##



### Target ###

[Eclipse Help Definition of Target](http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/concepts/target.htm)

### Builder ###

[Builder Configuration](http://help.eclipse.org/indigo/nav/4_3_1)

### Artefacts ###

[Versions](http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/tasks/pde_version_qualifiers.htm)

#### Feature ####

[Eclipse Help Definition of Feature](http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/concepts/feature.htm)

#### Plugin ####

[Eclipse Help Definition of Plugin](http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/concepts/plugin.htm)

#### Fragment ####

[Eclipse Help Definition of Fragment](http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/concepts/fragment.htm)


## Automating the Build ##

### Alternatives ###

### Introduction to PDE Build ###
[PDE Build introductory article](http://www.vogella.de/articles/EclipsePDEBuild/article.html)

[PDE Build extended article](http://www.eclipse.org/articles/Article-PDE-Automation/automation.html)

[Eclipse PDE Build Core Documentation](http://help.eclipse.org/indigo/nav/4_2)

[PDE Build custom Callbacks](http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/tasks/pde_custom_callbacks.htm)

### PDE Locations ###



### Assembling the Builder (Bootstrap) ###

[Installing software using the p2 director application](http://help.eclipse.org/indigo/topic/org.eclipse.platform.doc.isv/guide/p2_director.html)

[Use a base releng project and bootstrap](http://dev.eclipse.org/viewcvs/viewvc.cgi/org.eclipse.dash/athena/org.eclipse.dash.commonbuilder/org.eclipse.myproject.releng/?root=Technology_Project)

  1. Get the [Basebuilder for Indigo](http://wiki.eclipse.org/Platform-releng-basebuilder#Current_build_tag_for_3.7_stream_builds_.28Indigo.29) from its
[CVS location](http://dev.eclipse.org/viewcvs/viewvc.cgi/org.eclipse.releng.basebuilder/)
  1. Install into the basebuilder
    1. PDE
    1. EMF
    1. EMFText
    1. PDE Subversive Fetch

### Assembling the Target ###

[PDE fetch](http://help.eclipse.org/indigo/topic/org.eclipse.pde.doc.user/tasks/pde_fetch_phase.htm)

[Subversive PDE fetch](http://wiki.eclipse.org/Subversive_PDE_Fetch)

**Note:** The subversive provider is brittle and different from the subclipse provider installed for interactive use!!

### Repacking into the Target ###